{% extends 'base.html' %}
{% load static %}

{% block title %}Listas de Precios{% endblock %}

{% block content %}
<div class="container mx-auto px-4 py-6">
    <div class="flex justify-between items-center mb-6">
        <h1 class="text-3xl font-bold">Listas de Precios</h1>
        <a href="{% url 'catalog:pricelist_create' %}" class="btn btn-primary">
            <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"></path>
            </svg>
            Nueva Lista
        </a>
    </div>

    <!-- Filtros -->
    <div class="card bg-base-100 shadow-xl mb-6">
        <div class="card-body">
            <form hx-get="{% url 'catalog:pricelist_list' %}" hx-target="#pricelist-table" hx-trigger="input delay:300ms, change">
                <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                    <div>
                        <label class="label">
                            <span class="label-text">Buscar</span>
                        </label>
                        <input type="text" name="q" value="{{ request.GET.q }}" 
                               placeholder="Nombre de lista..." class="input input-bordered w-full">
                    </div>
                    <div>
                        <label class="label">
                            <span class="label-text">Por Defecto</span>
                        </label>
                        <select name="is_default" class="select select-bordered w-full">
                            <option value="">Todas</option>
                            <option value="true" {% if request.GET.is_default == 'true' %}selected{% endif %}>Por defecto</option>
                            <option value="false" {% if request.GET.is_default == 'false' %}selected{% endif %}>No por defecto</option>
                        </select>
                    </div>
                </div>
            </form>
        </div>
    </div>

    <!-- Tabla -->
    <div id="pricelist-table">
        {% include 'catalog/partials/pricelist_table.html' %}
    </div>
</div>
{% endblock %}